<!DOCTYPE html>
<html>

<!-- Mirrored from www.cplusplus.com/reference/clibrary/cstdarg/va_arg/ by HTTrack Website Copier/3.x [XR&CO'2010], Thu, 15 Nov 2012 06:35:51 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>va_arg - C++ Reference</title>
<link rel="canonical" href="index.html">
<link rel="shortcut icon" type="image/x-icon" href="http://www.cplusplus.com/favicon.ico">
<link rel="stylesheet" type="text/css" href="../../../../v311/main.css">
<script src="../../../../v311/main.js" type="text/javascript"></script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="http://www.cplusplus.com/" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="http://www.cplusplus.com/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="../../../index.html">Reference</a></li>
<li><a href="../../index.html">C Library</a></li>
<li><a href="../index.html">cstdarg (stdarg.h)</a></li>
<li class="here">va_arg</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div></div></div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_ad728">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7973859818";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="../../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div><div id="I_content"><div class="C_doc">
<div id="I_type">macro</div>
<h1>va_arg</h1>
<div id="I_file" title="header &lt;cstdarg&gt;">&lt;cstdarg&gt;</div>
<div class="C_prototype"><pre>type va_arg ( va_list ap, type )</pre></div><div id="I_description">Retrieve next argument</div>
This macro expands to an expression that has the type <i>type</i> and the value of the next argument in the variable arguments list.<br>
<br>
The next call to this macro will expand to the following argument in the same order as passed to the function.<br>
<br>
Notice that <tt>va_arg</tt> cannot determine the actual type of the argument passed to the function, but uses whatever type is passed as the <i>type</i> macro argument as its type.<br>
<br>
Notice also that <tt>va_arg</tt> does not determine either whether the retrieved argument is the last argument passed to the function (or even if it is an element past the end of that list). The function should be designed in such a way that the amount of parameters can be inferred in some way by the values of either the named parameters or the additional arguments already read.<br>
<br>
<h3>Parameters</h3>
<dl>
<dt>ap</dt>
<dd>Object of type <a href="http://www.cplusplus.com/va_list">va_list</a> with information about the additional arguments an their retrieval state. This object shall have been initialized by an initial call to <a href="http://www.cplusplus.com/va_start">va_start</a> before the first call to <a href="http://www.cplusplus.com/va_arg">va_arg</a>.</dd>
<dt>type</dt>
<dd>A type name. This type name is used as the type of the expression this macro expands to (i.e., its return type). <br>
For a type expression to be suitable for its use with <tt>va_arg</tt> it must be such that when an asterisk (*) would be appended to its right the resulting expression would be a valid pointer type to a <i>type</i> object.</dd>
</dl>
<br>
<h3>Return Value</h3>
Returns the next additional argument as an expression of type <i>type</i>.<br>
<br>
<h3>Example</h3>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br></code></pre></td>
<td class="source"><pre><code><cite>/* va_arg example */</cite>
<dfn>#include &lt;stdio.h&gt;</dfn>
<dfn>#include &lt;stdarg.h&gt;</dfn>

<var>int</var> FindMax ( <var>int</var> amount, ...)
{
  <var>int</var> i,val,greater;
  va_list vl;
  va_start(vl,amount);
  greater=va_arg(vl,<var>int</var>);
  <var>for</var> (i=1;i&lt;amount;i++)
  {
    val=va_arg(vl,<var>int</var>);
    greater=(greater&gt;val)?greater:val;
  }
  va_end(vl);
  <var>return</var> greater;
}

<var>int</var> main ()
{
  <var>int</var> m;
  m= FindMax (7,702,422,631,834,892,104,772);
  printf (<kbd>"The greatest one is: %d\n"</kbd>,m);
  <var>return</var> 0;
}</code></pre></td></tr></table></div>
<br>
<br>
This <tt>FindMax</tt> function takes as its first parameter the amount of additional arguments it is going to get. The first additional argument is retrieved and used as an initial reference for comparison, and then the remaining additional arguments are retrieved in a loop and compared to return the greatest one (which in this case is <tt>892</tt>).<br>
<br>
<h3>See also</h3>
<dl class="links"><dt><a href= "../va_start/index.html"><b>va_start</b></a></dt><dd>Initialize a variable argument list <span class="typ">(macro)</span></dd></dl><dl class="links"><dt><a href= "../va_end/index.html"><b>va_end</b></a></dt><dd>End using variable argument list <span class="typ">(macro)</span></dd></dl><dl class="links"><dt><a href= "../va_list/index.html"><b>va_list</b></a></dt><dd>Type to hold information about variable arguments <span class="typ">(type)</span></dd></dl><dl class="links"><dt><a href= "../../cstdio/vsprintf/index.html"><b>vsprintf</b></a></dt><dd>Write formatted data from variable argument list to string <span class="typ">(function)</span></dd></dl>
</div><div id="CH_bb"></div></div></div><div id="I_nav">
<div class="sect root">
<h3><b><a href="http://www.cplusplus.com/">C++</a></b></h3>
<ul>
<li class="folder info"><a href="http://www.cplusplus.com/info/">Information</a></li>
<li class="folder doc"><a href="http://www.cplusplus.com/doc/">Documentation</a></li>
<li class="folder selected reference"><a href="../../../index.html">Reference</a></li>
<li class="folder articles"><a href="http://www.cplusplus.com/articles/">Articles</a></li>
<li class="folder forum"><a href="http://www.cplusplus.com/forum/">Forum</a></li>
</ul>
</div>
<div class="C_BoxLabels sect">
<h3><b><a href="../../../index.html">Reference</a></b></h3>
<ul>
<li class="cpp98 cpp11 selected folder"><a href="../../index.html"><span>C Library</span></a></li>
<li class="cpp98 cpp11 folder"><a href="../../../iostream/index.html"><span>IOstream Library</span></a></li>
<li class="cpp98 cpp11 folder"><a href="../../../string/index.html"><span>Strings library</span></a></li>
<li class="cpp98 cpp11 folder"><a href="../../../stl/index.html"><span>STL Containers</span></a></li>
<li class="cpp98 cpp11 folder"><a href="../../../algorithm/index.html"><span>STL Algorithms</span></a></li>
<li class="cpp98 cpp11 folder"><a href="../../../std/index.html"><span>Miscellaneous</span></a></li>
</ul>
</div>
<div class="C_BoxLabels sect cpp98 cpp11">
<h3><b><a href="../../index.html">C Library</a></b></h3>
<ul>
<li class="c90 c99 arm cpp98 cpp11 folder"><a href="../../cassert/index.html"><span>cassert (assert.h)</span></a></li>
<li class="c90 c99 arm cpp98 cpp11 folder"><a href="../../cctype/index.html"><span>cctype (ctype.h)</span></a></li>
<li class="c90 c99 arm cpp98 cpp11 folder"><a href="../../cerrno/index.html"><span>cerrno (errno.h)</span></a></li>
<li class="c90 c99 arm cpp98 cpp11 folder"><a href="../../cfloat/index.html"><span>cfloat (float.h)</span></a></li>
<li class="c90 c99 arm cpp98 cpp11 folder"><a href="../../ciso646/index.html"><span>ciso646 (iso646.h)</span></a></li>
<li class="c90 c99 arm cpp98 cpp11 folder"><a href="../../climits/index.html"><span>climits (limits.h)</span></a></li>
<li class="c90 c99 arm cpp98 cpp11 folder"><a href="../../clocale/index.html"><span>clocale (locale.h)</span></a></li>
<li class="c90 c99 arm cpp98 cpp11 folder"><a href="../../cmath/index.html"><span>cmath (math.h)</span></a></li>
<li class="c90 c99 arm cpp98 cpp11 folder"><a href="../../csetjmp/index.html"><span>csetjmp (setjmp.h)</span></a></li>
<li class="c90 c99 arm cpp98 cpp11 folder"><a href="../../csignal/index.html"><span>csignal (signal.h)</span></a></li>
<li class="c90 c99 arm cpp98 cpp11 selected folder"><a href="../index.html"><span>cstdarg (stdarg.h)</span></a></li>
<li class="cpp11 folder"><a href="../../cstdbool/index.html"><span>cstdbool (stdbool.h)</span></a></li>
<li class="c90 c99 arm cpp98 cpp11 folder"><a href="../../cstddef/index.html"><span>cstddef (stddef.h)</span></a></li>
<li class="c99 cpp11 folder"><a href="../../cstdint/index.html"><span>cstdint (stdint.h)</span></a></li>
<li class="c90 c99 arm cpp98 cpp11 folder"><a href="../../cstdio/index.html"><span>cstdio (stdio.h)</span></a></li>
<li class="c90 c99 arm cpp98 cpp11 folder"><a href="../../cstdlib/index.html"><span>cstdlib (stdlib.h)</span></a></li>
<li class="c90 c99 arm cpp98 cpp11 folder"><a href="../../cstring/index.html"><span>cstring (string.h)</span></a></li>
<li class="c90 c99 arm cpp98 cpp11 folder"><a href="../../ctime/index.html"><span>ctime (time.h)</span></a></li>
<li class="c99 cpp11 folder"><a href="../../cwchar/index.html"><span>cwchar (wchar.h)</span></a></li>
<li class="c99 cpp11 folder"><a href="../../cwctype/index.html"><span>cwctype (wctype.h)</span></a></li>
</ul>
</div>
<div class="C_BoxLabels sect c90 c99 arm cpp98 cpp11">
<h3><b><a href="../index.html">cstdarg (stdarg.h)</a></b></h3>
<ul>
<li class="C_Collapsable"><h4>macros:</h4><ul>
<li class="c90 c99 arm cpp98 cpp11 selected"><a href="index.html"><span>va_arg</span></a></li>
<li class="c90 c99 arm cpp98 cpp11"><a href="../va_end/index.html"><span>va_end</span></a></li>
<li class="c90 c99 arm cpp98 cpp11"><a href="../va_start/index.html"><span>va_start</span></a></li>
</ul></li>
<li class="C_Collapsable"><h4>types:</h4><ul>
<li class="c90 c99 arm cpp98 cpp11"><a href="../va_list/index.html"><span>va_list</span></a></li>
</ul></li>
</ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="../../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div></div>
<div id="I_bottom">
<div id="I_footer">
	<a href="http://www.cplusplus.com/">Home page</a> | <a href="http://www.cplusplus.com/privacy.do">Privacy policy</a><br>&copy; cplusplus.com, 2000-2012 - All rights reserved - <i>v3.1</i><br><a href="http://www.cplusplus.com/contact.do?referrer=http%3A%2F%2Fwww.cplusplus.com%2Freference%2Fclibrary%2Fcstdarg%2Fva_arg%2F">Spotted an error? contact us</a>
</div>
</div>


<script type="text/javascript">
<!--
 onSession ( function(us) {
		el=document.getElementById('CH_bb'); el.innerHTML='';
		if (us.auth(4096)) {
			
			el.appendChild(btn('Edit Page','Edit Page','edit','../../../edit1192.html?a=clibrary+cstdarg+va_arg'));
			el.appendChild(btn('Delete Page','Delete Page','delete','javascript:docdel()'));
		}
	});
	function docdel() { if (confirm('WARNING: You are about to delete this page. Confirm?')) window.location='../../../delete1192.html?a=clibrary+cstdarg+va_arg'; }
	ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>

<!-- Mirrored from www.cplusplus.com/reference/clibrary/cstdarg/va_arg/ by HTTrack Website Copier/3.x [XR&CO'2010], Thu, 15 Nov 2012 06:35:52 GMT -->
</html>